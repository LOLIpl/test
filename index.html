<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Konwerter liter ↔ cyfry</title>
  <style>
    :root{font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    body{display:flex;align-items:center;justify-content:center;min-height:100vh;background:#f6f8fb;margin:0;padding:24px}
    .card{width:100%;max-width:880px;background:white;border-radius:14px;box-shadow:0 6px 30px rgba(17,24,39,0.08);padding:22px}
    h1{font-size:20px;margin:0 0 12px}
    p{margin:0 0 18px;color:#374151}
    .row{display:flex;gap:12px}
    textarea{width:100%;min-height:130px;padding:12px;border-radius:10px;border:1px solid #e6edf3;font-size:15px;resize:vertical}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    button{background:#0b5fff;color:#fff;border:0;padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600}
    button.secondary{background:#eef2ff;color:#0b3bff}
    button.ghost{background:transparent;color:#0b3bff;border:1px solid #dbeafe}
    .flex{display:flex;gap:12px}
    .panel{flex:1;display:flex;flex-direction:column}
    .label{font-size:13px;color:#374151;margin-bottom:8px}
    .mapping{background:#f8fafc;border-radius:8px;padding:10px;font-family:monospace;font-size:13px;color:#111827}
    footer{margin-top:14px;display:flex;justify-content:space-between;align-items:center}
    .small{font-size:13px;color:#6b7280}
    @media (max-width:760px){.row{flex-direction:column}}
  </style>
</head>
<body>
  <div class="card">
    <h1>Konwerter liter ↔ cyfry</h1>
    <p>Konwertuj litery alfabetu łacińskiego na cyfry (a=1, b=2, ... z=26) i odwrotnie. Nie zmienia znaków niealfabetycznych.</p>

    <div class="row">
      <div class="panel">
        <div class="label">Wejście</div>
        <textarea id="input" placeholder="Wpisz tekst tutaj... (np. 'abc' lub '123')"></textarea>

        <div style="height:8px"></div>
        <div class="controls">
          <button id="lettersToNumbers">Litery → cyfry</button>
          <button id="numbersToLetters" class="secondary">Cyfry → litery</button>
          <button id="clear" class="ghost">Wyczyść</button>
        </div>
      </div>

      <div style="width:18px"></div>

      <div class="panel">
        <div class="label">Wynik</div>
        <textarea id="output" readonly placeholder="Wynik pojawi się tutaj..."></textarea>

        <div style="height:8px"></div>
        <div class="controls">
          <button id="copy">Kopiuj wynik</button>
          <button id="download" class="secondary">Pobierz jako .txt</button>
        </div>

        <div style="height:12px"></div>
        <div class="label">Mapowanie</div>
        <div class="mapping" id="map">
          a=1, b=2, c=3, d=4, e=5, f=6, g=7, h=8, i=9, j=10, k=11, l=12, m=13, n=14, o=15, p=16, q=17, r=18, s=19, t=20, u=21, v=22, w=23, x=24, y=25, z=26
        </div>
      </div>
    </div>

    <footer>
      <div class="small">Obsługuje małe/wielkie litery. Przy konwersji cyfr oczekuje listy liczb bez spacji.</div>
      <div class="small">Wersja: 1.1</div>
    </footer>
  </div>

<script>
function letterToNumber(ch){
  if(!ch) return '';
  const c = ch.toLowerCase();
  if(c >= 'a' && c <= 'z') return (c.charCodeAt(0) - 96).toString();
  return ch;
}

function numberToLetter(token){
  const n = Number(token);
  if(Number.isInteger(n) && n >= 1 && n <= 26){
    return String.fromCharCode(96 + n);
  }
  return token;
}

function convertLettersToNumbers(text){
  let out = '';
  for(let i=0;i<text.length;i++){
    const ch = text[i];
    if(/[a-zA-Z]/.test(ch)){
      out += letterToNumber(ch);
    } else {
      out += ch;
    }
  }
  return out;
}

function convertNumbersToLetters(text){
  let result = '';
  let buffer = '';
  for(let ch of text){
    if(/[0-9]/.test(ch)){
      buffer += ch;
      if(Number(buffer) > 26){
        result += numberToLetter(buffer.slice(0,-1));
        buffer = buffer.slice(-1);
      }
    } else {
      if(buffer){
        result += numberToLetter(buffer);
        buffer = '';
      }
      result += ch;
    }
  }
  if(buffer) result += numberToLetter(buffer);
  return result;
}

const inputEl = document.getElementById('input');
const outputEl = document.getElementById('output');
const btnLTN = document.getElementById('lettersToNumbers');
const btnNTL = document.getElementById('numbersToLetters');
const btnCopy = document.getElementById('copy');
const btnClear = document.getElementById('clear');
const btnDownload = document.getElementById('download');

btnLTN.addEventListener('click', ()=>{
  const src = inputEl.value;
  outputEl.value = convertLettersToNumbers(src);
});

btnNTL.addEventListener('click', ()=>{
  const src = inputEl.value;
  outputEl.value = convertNumbersToLetters(src);
});

btnCopy.addEventListener('click', async ()=>{
  try{
    await navigator.clipboard.writeText(outputEl.value);
    btnCopy.textContent = 'Skopiowano!';
    setTimeout(()=>btnCopy.textContent = 'Kopiuj wynik',1200);
  }catch(e){
    alert('Nie udało się skopiować — użyj Ctrl/Cmd+C.');
  }
});

btnClear.addEventListener('click', ()=>{
  inputEl.value = '';
  outputEl.value = '';
});

btnDownload.addEventListener('click', ()=>{
  const blob = new Blob([outputEl.value || ''],{type:'text/plain;charset=utf-8'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'konwerter-wynik.txt';
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
});

inputEl.addEventListener('keydown', (e)=>{
  if(e.key === 'Enter' && (e.ctrlKey || e.metaKey)){
    e.preventDefault();
    btnLTN.click();
  }
  if(e.key === 'Enter' && e.shiftKey){
    e.preventDefault();
    btnNTL.click();
  }
});
</script>
</body>
</html>
